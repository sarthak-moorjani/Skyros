## Important notes about using the cluster for the first time 

For artifact evaluation purposes, we have automated running all the experiments. To start these experiments, you will need to ssh into the client machines. The below instructions tell how to successfully ssh into the client (or generally any machine in the cluster).

First, clone this repository on to your local machine.

Second, you need to know the external ips of the machines in the cluster to ssh into them. The ip addresses are present in the experiments/external_ips file.

##  Running experiments

We have automated all experiments presented in the paper. You must **ssh into the client machine to start the experiments**.
There are 3 sets of experiments all of which are kept as individual directories inside the results_repro directory.

1. micro-nilext-only
3. micro-nilext-reads 
5. ycsb

Each directory has a bunch of scripts but the one you want to run is **"run.sh"**. This generates the latencies and throughput of the given workload. This is used to plot the graphs in the paper manually.

*What run.sh does internally* run.sh first ensures that the sources on the replicas are correct (by internally ssh-ing to the replicas etc). 
Then, the script starts the experiment using the experiments/remote-throughput.py script. This script is the main client-side experiment orchestrator that starts the replica processes, starts the clients, collects results etc. The clients, once started, start sending requests to the cluster. These requests are usually replayed from trace files. These trace files were generated by us and are present on the client machine (most like inside /mnt/data). Once a workload run is completed, the remote-throughput script accumulates the results (stats etc).

## Traces
All our experiments replay requests from trace files that were generated by us. You can find the trace files here: https://zenodo.org/record/5520021

Download all the compressed trace files from the above link and uncompress them to /mnt/data on the client machine; our experiments expect the traces to be available at /mnt/data/.

## To build and run locally

For reproducing the results (for artifact evaluation), you don't need to build or run the cluster on your own. If you would like to test the basic functionality on your local machine, please see [../src/README.md](../src/README.md).

## Code Organization
To understand how Skyros' design is implemented in the code please see [../src/skyros/code-organization.md](../src/skyros/code-organization.md)
